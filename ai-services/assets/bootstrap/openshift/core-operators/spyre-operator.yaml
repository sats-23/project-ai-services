apiVersion: v1
kind: Namespace
metadata:
  labels:
    kubernetes.io/metadata.name: spyre-operator
    openshift.io/cluster-monitoring: "true"
    pod-security.kubernetes.io/audit: privileged
    pod-security.kubernetes.io/audit-version: latest
    pod-security.kubernetes.io/warn: privileged
    pod-security.kubernetes.io/warn-version: latest
  name: spyre-operator
---
apiVersion: operators.coreos.com/v1
kind: OperatorGroup
metadata:
  name: spyre-operator-group
  namespace: spyre-operator
spec:
  upgradeStrategy: Default
---
apiVersion: operators.coreos.com/v1alpha1
kind: Subscription
metadata:
  name: spyre-operator
  namespace: spyre-operator
spec:
  channel: stable-v1.1
  installPlanApproval: Automatic
  name: spyre-operator
  source: certified-operators
  sourceNamespace: openshift-marketplace
  startingCSV: spyre-operator.v1.1.1
---
apiVersion: spyre.ibm.com/v1alpha1
kind: SpyreClusterPolicy
metadata:
  name: spyreclusterpolicy
spec:
  cardManagement:
    config:
      pfRunnerImage: quay.io/ibm-aiu/x86_64/release/dd2/spyredriver-image:latest
      spyreFilter: .
      vfRunnerImage: quay.io/ibm-aiu/x86_64/release/dd2/spyredriver-image:latest
    enabled: false
  devicePlugin:
    configName: senlib_config.json
    configPath: /etc/aiu
    image: spyre-device-plugin
    initContainer:
      executePolicy: IfNotPresent
      image: spyre-device-plugin-init
      repository: quay.io/ibm-aiu
      version: 1.1.1
    repository: quay.io/ibm-aiu
    version: 1.1.1
  experimentalMode:
  - perDeviceAllocation
  - topologyAwareAllocation
  loglevel: info
  metricsExporter:
    enabled: false
    image: spyre-exporter
    metricsPath: /data
    port: 8082
    repository: quay.io/ibm-aiu
    version: 1.1.1
  podValidator:
    enabled: true
    image: spyre-webhook-validator
    repository: quay.io/ibm-aiu
    version: 1.1.1
  scheduler:
    image: spyre-scheduler
    repository: quay.io/ibm-aiu
    version: 1.1.1
